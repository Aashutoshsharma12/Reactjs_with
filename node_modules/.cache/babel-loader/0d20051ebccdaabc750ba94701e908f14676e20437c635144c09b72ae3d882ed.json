{"ast":null,"code":"import{React,useState}from\"react\";import'./login.css';// Import the CSS file for styling\nimport axios from\"axios\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const dev_host=process.env.REACT_APP_BACKEND_BASE_URL;const local_host=process.env.Backend_local_baseUrl;// import { useContext } from \"react\";\n// import { AuthContext } from \"../context/AuthContext\";\nfunction Login(){const[email,setEmail]=useState(\"\");const[password,setPassword]=useState(\"\");const[error,setError]=useState(\"\");const navigate=useNavigate();// Hook for navigation\n// Email validation function\nconst validateEmail=email=>{const re=/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;return re.test(String(email).toLowerCase());};const handleSubmit=async e=>{e.preventDefault();// Prevent page refresh\nsetError(\"\");// Reset error\n// Validate email format\nif(!validateEmail(email)){setError(\"Invalid email format\");return;}try{const response=await axios.post(dev_host+\"api/v1/admin/auth/login\",{email,password});localStorage.setItem(\"token\",response.data.data.token);// Store token\nnavigate('/');}catch(err){var _err$response,_err$response$data;setError(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||\"Login Failed!\");}};return/*#__PURE__*/_jsx(\"div\",{className:\"login-container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"login-background\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"login-form\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Login\"}),error&&/*#__PURE__*/_jsx(\"p\",{style:{color:\"red\"},children:error}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Email:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:\"Email\",value:email,onChange:e=>setEmail(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:password,onChange:e=>setPassword(e.target.value),required:true})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Submit\"})]})]})})});}export default Login;","map":{"version":3,"names":["React","useState","axios","useNavigate","jsx","_jsx","jsxs","_jsxs","dev_host","process","env","REACT_APP_BACKEND_BASE_URL","local_host","Backend_local_baseUrl","Login","email","setEmail","password","setPassword","error","setError","navigate","validateEmail","re","test","String","toLowerCase","handleSubmit","e","preventDefault","response","post","localStorage","setItem","data","token","err","_err$response","_err$response$data","message","className","children","style","color","onSubmit","htmlFor","type","placeholder","value","onChange","target","required"],"sources":["/home/vinod/Documents/my-react-app/src/login/login.js"],"sourcesContent":["import { React, useState } from \"react\";\nimport './login.css'; // Import the CSS file for styling\nimport axios from \"axios\";\nimport { useNavigate } from \"react-router-dom\";\nconst dev_host = process.env.REACT_APP_BACKEND_BASE_URL\nconst local_host = process.env.Backend_local_baseUrl\n// import { useContext } from \"react\";\n// import { AuthContext } from \"../context/AuthContext\";\nfunction Login() {\n    const [email, setEmail] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n    const [error, setError] = useState(\"\");\n    const navigate = useNavigate(); // Hook for navigation\n\n    // Email validation function\n    const validateEmail = (email) => {\n        const re = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n        return re.test(String(email).toLowerCase());\n    };\n\n    const handleSubmit = async (e) => {\n        e.preventDefault(); // Prevent page refresh\n        setError(\"\"); // Reset error\n\n        // Validate email format\n        if (!validateEmail(email)) {\n            setError(\"Invalid email format\");\n            return;\n        }\n\n        try {\n            const response = await axios.post(dev_host + \"api/v1/admin/auth/login\", {\n                email,\n                password,\n            });\n            localStorage.setItem(\"token\", response.data.data.token); // Store token\n            navigate('/')\n        } catch (err) {\n            setError(err.response?.data?.message || \"Login Failed!\");\n        }\n    };\n    return (\n        <div className=\"login-container\">\n            <div className=\"login-background\">\n                <div className=\"login-form\">\n                    <h2>Login</h2>\n                    {error && <p style={{ color: \"red\" }}>{error}</p>}\n                    <form onSubmit={handleSubmit}>\n                        <div className=\"form-group\">\n                            <label htmlFor=\"email\">Email:</label>\n                            <input type=\"email\"\n                                placeholder=\"Email\"\n                                value={email}\n                                onChange={(e) => setEmail(e.target.value)} required />\n                        </div>\n                        <div className=\"form-group\">\n                            <label htmlFor=\"password\">Password:</label>\n                            <input type=\"password\"\n                                value={password}\n                                onChange={(e) => setPassword(e.target.value)}\n                                required />\n                        </div>\n                        <button type=\"submit\">Submit</button>\n                    </form>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default Login; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}